@model KPaTS.Models.QuestionModel

<div class="question mdl-shadow--2dp mdl-color--white mdl-cell mdl-cell--12-col card-padding">
    <div class="mdl-textfield mdl-js-textfield textfield-demo">
        <label class="mdl-textfield__label" for="questions[@ViewBag.number][Text]">@Model.Text</label>
    </div>
    <input type="hidden" value="@Model.Id" id="questions[@(ViewData["count"])][Id]" name="questions[@(ViewData["count"])][Id]" />
    <h6>Answers</h6>

    @if (ViewBag.type != KPaTS.Models.QuestionType.Plain)
    {
        <div id="answers@(ViewData["count"])" class="mdl-grid">
            @{var answers = Model.Answers.ToList();}
            @for (int i = 0; i < answers.Count;i++ )
            {
                var dic = new ViewDataDictionary();
                dic.Add("count", i);
                dic.Add("number", ViewData["count"]);
                dic.Add("type", Model.Type);
                @Html.Partial("_AnswerPartialView", answers[i], dic);
            }
        </div>
        
    }
    else
    {
        <div class="mdl-textfield mdl-js-textfield textfield-demo">
            <textarea class="mdl-textfield__input" rows= "3" name="questions[@(ViewBag.number)][Answers][0][Text]" id="questions[@(ViewBag.number)][Answers][0][Text]" ></textarea>
            <input type="hidden" value="true" id="questions[@(ViewBag.number)][Answers][0][isRight]" name="questions[@(ViewBag.number)][Answers][0][isRight]" />
            <label class="mdl-textfield__label" for="questions[@(ViewBag.number)][Answers][0][Text]">Answer</label>
        </div>
    }
</div>